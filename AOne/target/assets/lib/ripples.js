(function(e){e.support.transition=function(){var e=document.body||document.documentElement,t=e.style,n=t.transition!==undefined||t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.MsTransition!==undefined||t.OTransition!==undefined;return n}();e.ripples=function(t){function r(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function i(t){t.off();if(e.support.transition){t.addClass("ripple-out")}else{t.animate({opacity:0},100,function(){t.trigger("transitionend")})}t.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.remove()})}var n={target:".btn:not(.btn-link), .card-image, .navbar a:not(.withoutripple), .nav-tabs a:not(.withoutripple), .withripple"};t=e.extend(n,t);e(document).on("mousedown touchstart",t.target,function(t){if(r()&&t.type=="mousedown"){return false}var n=e(this);if(!e(this).find(".ripple-wrapper").length){e(this).append("<div class=ripple-wrapper></div>")}var s=e(this).find(".ripple-wrapper");var o=s.offset(),u,a;if(!r()){u=t.pageX-o.left;a=t.pageY-o.top}else{t=t.originalEvent;if(t.touches.length===1){u=t.touches[0].pageX-o.left;a=t.touches[0].pageY-o.top}else{return}}var f=e("<div></div>");f.addClass("ripple");f.css({left:u,top:a});f.css({"background-color":window.getComputedStyle(e(this)[0]).color});s.append(f);(function(){return window.getComputedStyle(f[0]).opacity})();var l=Math.max(e(this).outerWidth(),e(this).outerHeight())/f.outerWidth()*2.5;if(e.support.transition){f.css({"-ms-transform":"scale("+l+")","-moz-transform":"scale("+l+")","-webkit-transform":"scale("+l+")",transform:"scale("+l+")"});f.addClass("ripple-on");f.data("animating","on");f.data("mousedown","on")}else{f.animate({width:Math.max(e(this).outerWidth(),e(this).outerHeight())*2,height:Math.max(e(this).outerWidth(),e(this).outerHeight())*2,"margin-left":Math.max(e(this).outerWidth(),e(this).outerHeight())*-1,"margin-top":Math.max(e(this).outerWidth(),e(this).outerHeight())*-1,opacity:.2},500,function(){f.trigger("transitionend")})}setTimeout(function(){f.data("animating","off");if(f.data("mousedown")=="off"){i(f)}},500);n.on("mouseup mouseleave",function(){f.data("mousedown","off");if(f.data("animating")=="off"){i(f)}})})};e.fn.ripples=function(){e.ripples({target:e(this)})}})(jQuery)